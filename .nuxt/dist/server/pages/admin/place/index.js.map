{"version":3,"file":"pages/admin/place/index.js","sources":["webpack:///./pages/admin/place/index.vue?9e10","webpack:///./components/pages/place/PlaceList.vue?9c23","webpack:///./components/pages/place/PlaceList.vue","webpack:///./components/pages/place/PlaceList.vue?ce19","webpack:///./components/pages/place/PlaceList.vue?4d27","webpack:///./pages/admin/place/index.vue","webpack:///./pages/admin/place/index.vue?d7da","webpack:///./pages/admin/place/index.vue?0210"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._ssrNode(\"<div class=\\\"content-header\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"container-fluid\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"row mb-2\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col-sm-6\\\"><h1 class=\\\"m-0 text-dark\\\">สถานที่</h1></div> \"),_vm._ssrNode(\"<div class=\\\"col-sm-6\\\">\",\"</div>\",[_vm._ssrNode(\"<ol class=\\\"breadcrumb float-sm-right\\\">\",\"</ol>\",[_vm._ssrNode(\"<li class=\\\"breadcrumb-item\\\">\",\"</li>\",[_c('nuxt-link',{attrs:{\"to\":\"/admin/news\"}},[_vm._v(\"หน้าแรก\")])],1),_vm._ssrNode(\" <li class=\\\"breadcrumb-item active\\\">เเสดงสถานที่</li>\")],2)])],2)])]),_vm._ssrNode(\" \"),_vm._ssrNode(\"<section class=\\\"content\\\">\",\"</section>\",[_vm._ssrNode(\"<div class=\\\"container-fluid\\\">\",\"</div>\",[_c('PlaceList',{attrs:{\"place\":_vm.loadData},on:{\"deleteData\":_vm.onDeleted}})],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._ssrNode(\"<div class=\\\"row\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col-12\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"card\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"card-header\\\"><h3 class=\\\"card-title\\\">สถานที่ทั้งหมด</h3></div> \"),_vm._ssrNode(\"<div class=\\\"card-body\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col-12 float-left clearfix\\\">\",\"</div>\",[_c('nuxt-link',{staticClass:\"btn btn-info btn-sm\",attrs:{\"to\":\"/admin/place/create\"}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" เพิ่มสถานที่\")])],1)]),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"card-body\\\" style=\\\"padding-top:0px;\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col-12 table-container\\\">\",\"</div>\",[_vm._ssrNode(\"<table id=\\\"place-table\\\" class=\\\"table table-bordered table-hover\\\">\",\"</table>\",[_vm._ssrNode(\"<thead><tr><th class=\\\"text-center\\\" style=\\\"width: 5%\\\">ลำดับ</th> <th class=\\\"text-left\\\" style=\\\"width: 10%\\\">กลุ่มสถานที่</th> <th class=\\\"text-left\\\" style=\\\"width: 10%\\\">ชื่อสถานที่</th> <th class=\\\"text-left\\\" style=\\\"width: 15%\\\">ที่อยู่</th> <th class=\\\"text-left\\\" style=\\\"width: 10%\\\">ลติจูด</th> <th class=\\\"text-left\\\" style=\\\"width: 10%\\\">ลองติจูด</th> <th class=\\\"text-left\\\" style=\\\"width: 12%\\\">ผู้เขียน</th> <th class=\\\"text-center\\\" style=\\\"width: 13%\\\">วันที่บันทึก</th> <th class=\\\"text-center\\\" style=\\\"width: 20% !important\\\">#</th></tr></thead> \"),_vm._ssrNode(\"<tbody>\",\"</tbody>\",_vm._l((_vm.place),function(item,index){return _vm._ssrNode(\"<tr\"+(_vm._ssrAttr(\"index\",index))+\">\",\"</tr>\",[_vm._ssrNode(\"<td class=\\\"text-center\\\">\"+_vm._ssrEscape(_vm._s(index + 1))+\"</td> <td class=\\\"text-left\\\">\"+_vm._ssrEscape(\"\\n                    \"+_vm._s(item.place_group.group_topic ? item.place_group.group_topic : \"\")+\"\\n                  \")+\"</td> <td class=\\\"text-left\\\">\"+_vm._ssrEscape(_vm._s(item.topic.length>65 ? item.topic.slice(0,65)+\"...\" : item.topic))+\"</td> <td class=\\\"text-left\\\">\"+_vm._ssrEscape(\"\\n                    \"+_vm._s(item.address ? item.address : \"\")+\"\\n                  \")+\"</td> <td class=\\\"text-left\\\">\"+_vm._ssrEscape(\"\\n                    \"+_vm._s(item.latitude ? item.latitude : \"\")+\"\\n                  \")+\"</td> <td class=\\\"text-left\\\">\"+_vm._ssrEscape(\"\\n                    \"+_vm._s(item.longtitude ? item.longtitude : \"\")+\"\\n                  \")+\"</td> <td class=\\\"text-left\\\">\"+_vm._ssrEscape(\"\\n                    \"+_vm._s(item.author ? item.author : \"\")+\"\\n                  \")+\"</td> <td class=\\\"text-center\\\">\"+_vm._ssrEscape(_vm._s(_vm._f(\"moment\")(item.update_dttm)))+\"</td> \"),_vm._ssrNode(\"<td class=\\\"project-actions text-center\\\">\",\"</td>\",[_c('nuxt-link',{staticClass:\"btn btn-info btn-sm\",attrs:{\"to\":{ path: 'place/'+item.id}}},[_c('i',{staticClass:\"fas fa-pencil-alt\"}),_vm._v(\"\\n                      แก้ไข\\n                    \")]),_vm._ssrNode(\" <a class=\\\"btn btn-danger btn-sm\\\"><i class=\\\"fas fa-trash\\\"></i>\\n                      ลบ\\n                    </a>\")],2)],2)}),0)],2)])])],2)])]),_vm._ssrNode(\" <div id=\\\"modal-delete-place\\\" class=\\\"modal fade\\\"><div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h4 class=\\\"modal-title\\\">ข้อความเเจ้งเตือน</h4> <button type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\" class=\\\"close\\\"><span aria-hidden=\\\"true\\\">×</span></button></div> <div class=\\\"modal-body\\\"><p>ต้องการลบรายการใช่หรือไม่ ?</p></div> <div class=\\\"modal-footer\\\"><button type=\\\"button\\\" class=\\\"btn btn-info\\\">ตกลง</button> <button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-default\\\">ยกเลิก</button></div></div></div></div>\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport moment from \"moment\";\r\nexport default { \r\n  data(){  \r\n    return{ \r\n      id:\"\"\r\n    }  \r\n  },\r\n  mounted: function () {\r\n    $(\"#place-table\").DataTable({   \r\n      paging: true,\r\n      lengthChange: false,\r\n      searching: true,\r\n      ordering: false,\r\n      info: true,\r\n      autoWidth: true,\r\n      responsive: true, \r\n      lengthMenu: [[10, 25, 50, -1], [10, 25, 50, \"All\"]],\r\n      language: { \r\n        info: \"เเสดง _START_ ถึง _END_ ของ _TOTAL_ รายการ\",\r\n        infoEmpty: \"แสดง 0 ถึง 0 ของ 0 รายการ\", \r\n        lengthMenu: \"เเสดง _MENU_ รายการ\",\r\n        loadingRecords: \"กำลังโหลด...\",\r\n        processing: \"ประมวลผล...\",\r\n        search: \"ค้นหา:\",\r\n        emptyTable: \"ไม่พบข้อมูล\",\r\n        paginate: {\r\n          previous: \"ก่อนหน้า\",\r\n          next: \"ถัดไป\",\r\n          first: \"เเรกสุด\",\r\n          last: \"สุดท้าย\",   \r\n          infoEmpty: \"ไม่พบข้อมูล\", \r\n        }\r\n      } \r\n\r\n    });\r\n  },\r\n  methods: {\r\n    moment: function () {\r\n      return moment();\r\n    },\r\n    alertDeletePlace(id){ \r\n      this.id = id;\r\n      $('#modal-delete-place').modal(\"show\"); \r\n    },\r\n    confirmDeletePlace(id){ \r\n      $('#modal-delete-place').modal(\"hide\");\r\n      this.$emit('deleteData', id);\r\n    }\r\n  },\r\n  props: {\r\n    place: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n  },\r\n  filters: {\r\n    moment: function (date) {\r\n      return moment(date).format(\"YYYY-MM-DD HH:mm:ss\");\r\n    },\r\n  } \r\n};\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaceList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaceList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlaceList.vue?vue&type=template&id=2fdfec62&\"\nimport script from \"./PlaceList.vue?vue&type=script&lang=js&\"\nexport * from \"./PlaceList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"48ee42be\"\n  \n)\n\nexport default component.exports","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n\r\nimport PlaceList from \"@/components/pages/place/PlaceList\";\r\nimport axios from 'axios'   \r\n\r\nexport default {\r\n  layout: \"adminLayout\",\r\n  components: { \r\n    PlaceList,\r\n  },\r\n  mounted() {   \r\n    this.$nextTick(() => {\r\n      $('#loading-modal').modal('show');\r\n      setTimeout(() => $('#loading-modal').modal('hide'), 1500)\r\n    })\r\n  },\r\n  fetch({ store, params }) { \r\n    if (!store.state.placeData || store.state.placeData.length==0) {\r\n      return store.dispatch('initPlace');\r\n    }\r\n  },\r\n  computed:{\r\n    loadData(){    \r\n      var data = [];\r\n      if(this.$store.getters.getAllPlace){\r\n        data = this.$store.getters.getAllPlace;\r\n      }\r\n      return data;   \r\n    }\r\n    \r\n  },\r\n  methods:{\r\n      onDeleted(id){   \r\n          $('#loading-modal').modal('show'); \r\n          this.$store.dispatch(\"deletePlace\", id)\r\n          .then(()=>{ \r\n            setTimeout(() => {\r\n              $('#loading-modal').modal('hide'); \r\n              toastr.info('ลบข้อมูลเรียบร้อยเเล้ว');\r\n            }, 1500);  \r\n          })\r\n          .catch(error => {  \r\n            $('#loading-modal').modal('้hide'); \r\n            toastr.error('ไม่สามารถลบข้อมูลได้');\r\n            console.log('error ' , error);\r\n          });\r\n      } \r\n      \r\n    }\r\n};\r\n \r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=032dd0ba&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"71c22abc\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;ACFA;AACA;AACA;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AARA;AATA;AA2BA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAZA;AAaA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;AAHA;AAtDA;;ACvGA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAhBA;AA1BA;;ACzCA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}